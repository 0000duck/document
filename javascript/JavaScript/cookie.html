<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>cookie</title>
<link rel="stylesheet" type="text/css" href="../../source/css/css.css">
</head>
<body>
<div class="main">
	<div class="title">
		<a href="#cookie">cookie</a>
		<a href="#escape">cookie编码</a>
		<a href="#fun">封装的函数</a>
	</div>
	<div class="note"><a name="cookie"></a>
		<p><span class="flag">cookie</span>
<pre>cookie用于保存用户的临时信息 一个cookie文件不可超过4kb 每个cookie文件不可超过300个cookie
cookie中不能有 空格 分号 逗号等
</pre>
		</p>
		<p><span class="flag">检查浏览器是否开启cookie支持</span>
<pre>if(navigator.cookieEnabled){
	alert('yes');
}else{
	alert('no')
}
</pre>
		</p>
		<p><span class="flag">写入cookie 读取cookie</span>
<pre>document.cookie='x=1';//写入cookie
document.cookie='y=2';//cookie默认直到浏览器关闭时过期
document.cookie='x=3;expires=1000';//1秒后cookie过期
document.cookie;//返回本域名下所有cookie x=3; y=2

//返回指定cookie键的值
function getCookie(cookie,cookieName){
	var array=cookie.split("; ");
	
	for(index in array){
		var key_value=array[index].split("=");
		
		if(key_value[0]==cookieName){
			return key_value[1];
		}
	}
	return null;
}
</pre>
		</p>
	</div>

	<div class="note"><a name="escape"></a>
		<p><span class="flag">cookie编码</span>
<pre>为了在cookie中保持分号等特殊符号

可用escape(value) 编码写入
读取后用unescape(value)解码
</pre>
		</p>
	</div>

	<div class="note"><a name="fun"></a>
		<p><span class="flag">设置cookie</span>
<pre>function addCookie(name,value,second){
	if(arguments.length==3){
		var date = new Date(); 
		date.setTime(date.getTime() + second*1000);
		document.cookie = name + "="+ escape (value) + ";expires=" + date.toGMTString();
	}else{
		document.cookie = name + "="+ escape (value);
	}
}
</pre>
		</p>
		<p><span class="flag">获取指定cookie</span>
<pre>function getCookie(cookie,cookieName){
	var array=cookie.split("; ");
	
	for(index in array){
		var key_value=array[index].split("=");
		
		if(key_value[0]==cookieName){
			return unescape(key_value[1]);
		}
	}
	return null;
}
</pre>
		</p>
		<p><span class="flag">删除指定cookie</span>
<pre>function delCookie(name){
	var date = new Date(); 
	date.setTime(date.getTime() -1);
	document.cookie = name + "=time out;expires=" + date.toGMTString();
}
</pre>
		</p>
	</div>
</div>
</body>
</html>