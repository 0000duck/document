<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<link href="../../source/css/css.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="main">
	<div class="title">
		<a href="#vim">vim</a>
		<a href="#vi">vi 工作模式</a>
		<a href="#vi0">vi 一般模式</a>
		<a href="#vi1">vi 編輯模式</a>
		<a href="#vi2">vi 命令</a>
		<a href="#vim-more">vim 增強功能</a>
	</div>

	<div class="note"><a name="vim"></a>
		<p><span class="flag">vim</span>
<pre>vim 是由 vi 發展來的 一個 文本編輯器 是最好的編輯器之一
用法基本同 vi 現在的linux一般都 不會帶vi 
使用 vi命令時 會被執行vim命令

wiki <a href="https://zh.wikipedia.org/wiki/Vim" target="_blank">https://zh.wikipedia.org/wiki/Vim</a>
</pre>
		</p>
	</div>
	<div class="note"><a name="vi"></a>
		<p><span class="flag">vi 工作模式</span>
<pre>vi 存在三種 工作模式 用於不同的 操作

一般模式	用於光標移到 數據刪除 粘貼
編輯模式	文本輸入
命令模式	讀取保存 查找 設置編輯環境
</pre>
		</p>
	</div>
	<div class="note"><a name="vi0"></a>
		<p><span class="flag">vi 一般模式</span>
<pre><table>
<tr><th>command</th><th>note</th><th>example</th></tr>
<tr><td>...</td><td><h2><span class="care">光標移動</span></h2></td></tr>
<tr><td>[n]h 或 [n]Left Arrow</td><td>光標 左移n個字符 n默認為1</td><td>3n</td></tr>
<tr><td>[n]j 或 [n]Down Arrow 或 [n] Enter</td><td>... 下 ..</td></tr>
<tr><td>[n]k 或 [n]Up Arrow</td><td>... 上 ..</td></tr>
<tr><td>[n]l 或 [n]Right Arrow 或 [n][space]</td><td>... 右 ..</td></tr>
<tr><td>0 或 [home]</td><td>... 本行最前</td></tr>
<tr><td>$ 或 [end]</td><td>... 本行最後</td></tr>
<tr><td>...</td></tr>
<tr><td>H</td><td>光標移動到 屏幕上首行 第一個字符</td></tr>
<tr><td>M</td><td>... 屏幕中 ...</td></tr>
<tr><td>L</td><td>... 屏幕尾行 ...</td></tr>
<tr><td>...</td></tr>
<tr><td>[n]G</td><td>光標移到到 最後第n行 n默認為最後一行</td></tr>
<tr><td>gg</td><td>1G</td></tr>
<tr><td>...</td><td><h2><span class="care">查找 替換</span></h2></td></tr>
<tr><td>/work</td><td>向下查找</td></tr>
<tr><td>?work</td><td>向上查找</td></tr>
<tr><td>n</td><td>向下 重複 查找</td></tr>
<tr><td>N</td><td>向上 重複 查找</td></tr>
<tr><td>:[n1,n2]s/[word1]/[word2][/gc]</td><td>把 [n1,n2] 行中 word1 替換為 word2
($ 代表最後一行)
(gc 指定替換時 是否 詢問操作)</td><td>把全文的 king 替換為 dark king
:1,$s/king/dark king</td></tr>
<tr><td>...</td><td><h2><span class="care">刪除 複製 粘貼</span></h2></td></tr>
<tr><td>[n]x</td>向後刪除 n個字符 n默認為1</tr>
<tr><td>[n]X</td><td>向前 ...</td></tr>
<tr><td>dd</td><td>刪除整行</td></tr>
<tr><td>dd[n]G</td><td>刪除 光標 到 n行</td></tr>
<tr><td>d0</td><td>刪除光標到 本行首</td></tr>
<tr><td>d$</td><td>刪除光標到 本行尾</td></tr>
<tr><td>yy</td><td>複製本行</td></tr>
<tr><td>nyy</td><td>複製n行</td></tr>
<tr><td>ynG</td></tr>
<tr><td>y0</td></tr>
<tr><td>y$</td></tr>
<tr><td>p 或 P</td>粘貼到</tr>
<tr><td>...</td><td><h2><span class="care">其它常用</span></h2></td></tr>
<tr><td>u</td>撤銷操作</tr>
<tr><td>. 或 [ctrl] + r</td>重複操作</tr>
<tr><td>J</td>合併 光標行和下一行</tr>
</table>
</pre>
		</p>
	</div>
	<div class="note"><a name="vi1"></a>
		<p><span class="flag">vi 編輯模式</span>
<pre><table>
<tr><th>command</th><th>note</th></tr>
<tr><td>i,I</td><td>i 從目前光標位置插入
I 從目前光標行 第一個非空字符插入</td></tr>
<tr><td>a,A</td><td>a 從目前光標位置後插入
A 從目前光標行 最後一個非空字符插入</td></tr>
<tr><td>o,O</td><td>o 下一行插入
O 上一行插入</td></tr>	
<tr><td>r,R</td><td>進行 替換模式
r 進替換一次
R 一直替換</td></tr>
</table>
</pre>
		</p>
	</div>
	<div class="note"><a name="vi2"></a>
		<p><span class="flag">vi 命令</span>
<pre><table>
<tr><th>command</th><th>note</th></tr>
<tr><td>:w</td><td>保存</td></tr>
<tr><td>:w!</td><td>強制保存</td></tr>
<tr><td>:q</td><td>退出</td></tr>
<tr><td>:q!</td><td>強制退出</td></tr>
<tr><td>:wq</td><td>保存並退出</td></tr>
<tr><td>ZZ</td><td>若檔案未改動離開 若檔案已經改動 存儲後離開</td></tr>
<tr><td>:w [filename]</td><td>另存為</td></tr>
<tr><td>:r [filename]</td><td>將 filename 內存 插入到光標後</td></tr>
<tr><td>:n1,n2 w[filename]</td><td>將 [n1,n2] 行數據 另存為</td></tr>
<tr><td>:! command</td><td>執行bash 指令</td></tr>
<tr><td>:set nu</td><td>顯示 行號</td></tr>
<tr><td>:set nonu</td><td>隱藏 行號</td></tr>
</table>
</pre>
		</p>
	</div>

	<div class="note"><a name="vim-more"></a>
		<p><span class="flag">vim 增強功能</span>
<pre>vim 兼容所有 vi 用法 同時 提供了 許多額外功能
</pre>
		</p>
		<p><span class="flag">塊選擇</span>
<pre>
<table>
<tr><th>command</th><th>note</th></tr>	
<tr><td>v</td><td>以反白選擇 多字符</td></tr>
<tr><td>V</td><td>以反白選擇 多行</td></tr>
<tr><td>[ctrl] + v</td><td>以反白選擇 長方形</td></tr>
<tr><td>y</td><td>複製 反白選擇塊</td></tr>
<tr><td>d</td><td>刪除 反白選擇塊</td></tr>
</table>
</pre>
		</p>
		<p><span class="flag">多檔案 編輯</span>
<pre>//同時編輯 多檔案
vim file1 file2 ... 

<table>
<tr><th>command</th><th>note</th></tr>
<tr><td>:n</td><td>編輯 下個檔案</td></tr>
<tr><td>:N</td><td>編輯 上個檔案</td></tr>
<tr><td>:files</td><td>列出 所有打開的 檔案</td></tr>
</table>
</pre>
		</p>
		<p><span class="flag">分割窗口</span>
<pre>//分割出 一個 新窗口
:sp

//分割出 ... 編輯 file
:sp file

//編輯 下方 窗口
[ctrl] + w + [j]/Down Arrow

//編輯 上方 窗口
[ctrl] + w + [k]/Up Arrow
</pre>
		</p>
		<p><span class="flag">環境設置</span>
<pre>環境 預設 檔案 (在檔案中設置 不需要加: 如 set nu)
～/.vimrc 

//設置 vim環境
:set ...

<table>
<tr><th>set</th><th>note</th></tr>
<tr><td>:set nu
:set nonu</td><td>是否 顯示 行號</td></tr>
<tr><td>:set hlsearch
:set nohlsearch</td><td>搜索內容 是否 高光</td></tr>
<tr><td>:set autoindent
:set noautoindent</td><td>是否 自動縮進</td></tr>
<tr><td>:set backup
:set nobackup</td><td>是否備份 默認 noback
如果 backup write 時 會創建 file~ 備份檔</td></tr>
<tr><td>:set rule</td><td>顯示狀態欄</td></tr>
<tr><td>:set showmode</td><td>顯示 --INSERT-- 等信息</td></tr>
<tr><td>:set backspace=(012)</td><td>一般 linux編輯模式下 不可用 backspace 刪除
2 運行
1 僅可刪除 剛輸入的 字符
0 不可刪除</td></tr>
<tr><td>:set all</td><td>顯示 全部 可設置 參數</td></tr>
<tr><td>:set</td><td>顯示於 默認值 不同的 設置</td></tr>
<tr><td>:syntax on
:syntax off</td><td>是否 對不同 檔案類型 使用不同 配色方案</td></tr>
<tr><td>:set bg=dark
:set bg=light</td><td>設置 不同 配色方案</td></tr>
</table>
</pre>
		</p>
		<p><span class="flag">other</span>
<pre>vim 編輯時 會創建 .file.swp 檔案 以避免 vim異常關閉
若要恢復 在 重新打開時 選擇 R(recover)

vim 為同行創建了 ~/.viminfo 檔案 其中記錄了 所有vim 操作
</pre>
		</p>
	</div>
</div>
</body>
</html>